# {{serviceName}}

Microservice scaffold gerado pelo `create-vertex-service`.

Arquitetura recomendada (Clean + Fastify)

Estrutura principal (exemplo):

```
src/
├── controllers/          # Recebe requisições, valida e chama Use Cases
│   └── <nome>.controller.ts
├── use-cases/            # Regras de negócio (Clean Architecture)
│   └── <nome>.usecase.ts
├── repositories/         # Persistência de dados / abstrações DB
│   └── <nome>.repository.ts
├── workers/              # Processamento de filas/eventos (SNS/SQS)
│   └── <nome>.worker.ts
├── health/               # Endpoints de healthcheck
│   └── health.route.ts
├── routes/               # Definição de rotas REST
│   └── <nome>.routes.ts
├── main.ts               # Inicialização do Fastify
└── server.ts             # Configuração do servidor, plugins, middlewares
```

Dependências essenciais já incluídas (Fastify, zod, dotenv, aws-sdk, jwt, etc.).

Scripts

```json
"dev": "ts-node-dev --respawn --transpile-only src/main.ts",
"build": "tsc",
"start": "node dist/main.js",
"test": "jest",
"lint": "eslint . --ext .ts"
```

Configuração TypeScript

- `strict: true`
- `outDir: dist`
- `baseUrl` e `paths` prontos para aliases (`@controllers`, `@use-cases`, ...)

Boilerplate incluso

- `src/controllers/sample.controller.ts`
- `src/use-cases/sample.usecase.ts`
- `src/repositories/sample.repository.ts`
- `src/routes/sample.routes.ts`
- `src/workers/sample.worker.ts`
- `src/health/health.route.ts`

Env & exemplos

- `.env.example` incluído com variáveis básicas

Observações de boas práticas

- Use `zod` para validação de payloads e `@opentelemetry/api` para integração futura.
- Separe responsabilidades: controllers -> use-cases -> repositories.
- Repositórios e use-cases devem ser tenant-aware (usar `X-Tenant-Id`).

